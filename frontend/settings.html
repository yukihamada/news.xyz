<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - HyperNews</title>
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--bg:#ffffff;--text:#0f172a;--surface:#f8f9fa;--border:#e8ecf0;--accent:#3b82f6;--accent-hover:#2563eb;--muted:#64748b;--radius:12px}
    [data-mode="dark"]{--bg:#0f172a;--text:#e2e8f0;--surface:#1e293b;--border:#334155;--muted:#94a3b8}
    body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);transition:background .2s,color .2s}
  </style>
  <link rel="stylesheet" href="css/settings.css?v=20">
</head>
<body data-mode="light">

  <header class="settings-header">
    <div class="settings-header-inner">
      <a href="/" class="settings-logo">news.xyz</a>
      <h1 class="settings-title">Settings</h1>
      <a href="/" class="settings-back">Home</a>
    </div>
  </header>

  <main class="settings-main">
    <nav class="settings-tabs" id="settings-tabs">
      <button class="tab-btn" data-tab="display">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="3"/><path d="M3 9h18"/></svg>
        Display
      </button>
      <button class="tab-btn" data-tab="layout">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        Layout
      </button>
      <button class="tab-btn" data-tab="reading">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        Reading
      </button>
      <button class="tab-btn" data-tab="ai">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v4a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
        AI & Voice
      </button>
      <button class="tab-btn" data-tab="feeds">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1" fill="currentColor"/></svg>
        Feeds
      </button>
      <button class="tab-btn" data-tab="local">
        <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
        Data
      </button>
    </nav>

    <!-- ============ Tab: Display ============ -->
    <section class="tab-panel" id="tab-display">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon purple">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72 1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
          </div>
          <div>
            <div class="section-title">Appearance</div>
            <div class="section-desc">Theme, mode, and accent color</div>
          </div>
        </div>

        <div class="setting-group">
          <label>Theme</label>
          <div class="btn-group" id="theme-btns">
            <button class="opt-btn" data-value="hacker">Hacker</button>
            <button class="opt-btn" data-value="card">Card</button>
            <button class="opt-btn" data-value="lite">Lite</button>
          </div>
        </div>

        <div class="setting-group">
          <label>Mode</label>
          <div class="btn-group" id="mode-btns">
            <button class="opt-btn" data-value="light">Light</button>
            <button class="opt-btn" data-value="dark">Dark</button>
          </div>
        </div>

        <div class="setting-group">
          <label>Accent Color</label>
          <div class="color-grid" id="color-btns">
            <button class="color-btn" data-value="default" style="background:#4fc3f7" title="Default"></button>
            <button class="color-btn" data-value="blue" style="background:#42a5f5" title="Blue"></button>
            <button class="color-btn" data-value="green" style="background:#66bb6a" title="Green"></button>
            <button class="color-btn" data-value="purple" style="background:#ab47bc" title="Purple"></button>
            <button class="color-btn" data-value="red" style="background:#ef5350" title="Red"></button>
            <button class="color-btn" data-value="orange" style="background:#ffa726" title="Orange"></button>
            <button class="color-btn" data-value="pink" style="background:#ec407a" title="Pink"></button>
          </div>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon blue">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3"/><path d="M9 20h6"/><path d="M12 4v16"/></svg>
          </div>
          <div>
            <div class="section-title">Typography</div>
            <div class="section-desc">Font size and density</div>
          </div>
        </div>

        <div class="setting-group">
          <label>Font Size</label>
          <div class="slider-row">
            <input type="range" id="font-size-range" min="12" max="24" step="1" value="16" class="form-range">
            <span class="slider-val" id="font-size-val">16px</span>
          </div>
        </div>

        <div class="setting-group">
          <label>Line Height</label>
          <div class="slider-row">
            <input type="range" id="line-height-range" min="1.2" max="2.2" step="0.1" value="1.6" class="form-range">
            <span class="slider-val" id="line-height-val">1.6</span>
          </div>
        </div>

        <div class="setting-group">
          <label>Layout Density</label>
          <div class="btn-group" id="density-btns">
            <button class="opt-btn" data-value="compact">Compact</button>
            <button class="opt-btn" data-value="normal">Normal</button>
            <button class="opt-btn" data-value="spacious">Spacious</button>
          </div>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon cyan">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          </div>
          <div>
            <div class="section-title">Visibility</div>
            <div class="section-desc">Show or hide UI elements</div>
          </div>
        </div>

        <div class="setting-group toggle-group">
          <label>Show Images</label>
          <button class="toggle-switch" id="toggle-showImages" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Show Description</label>
          <button class="toggle-switch" id="toggle-showDescriptions" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Show Source</label>
          <button class="toggle-switch" id="toggle-showSource" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Show Time</label>
          <button class="toggle-switch" id="toggle-showTime" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Show TTS Button</label>
          <button class="toggle-switch" id="toggle-showTtsButton" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Show Bookmark Button</label>
          <button class="toggle-switch" id="toggle-showBookmarkButton" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Hide Read Articles</label>
          <button class="toggle-switch" id="toggle-hideReadArticles" role="switch" aria-checked="false">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <div class="setting-group toggle-group">
          <label>Animations</label>
          <button class="toggle-switch" id="toggle-enableAnimations" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon green">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
          </div>
          <div>
            <div class="section-title">Auto Refresh</div>
          </div>
        </div>
        <div class="setting-group">
          <div class="btn-group" id="refresh-btns">
            <button class="opt-btn" data-value="0">OFF</button>
            <button class="opt-btn" data-value="1">1 min</button>
            <button class="opt-btn" data-value="5">5 min</button>
            <button class="opt-btn" data-value="15">15 min</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ============ Tab: Layout ============ -->
    <section class="tab-panel" id="tab-layout">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon orange">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
          </div>
          <div>
            <div class="section-title">Live Preview</div>
            <div class="section-desc">Changes reflected in real-time</div>
          </div>
        </div>
        <div class="live-preview" id="live-preview">
          <div class="preview-articles" id="preview-articles">
            <div class="preview-article">
              <div class="preview-img"></div>
              <div class="preview-body">
                <div class="preview-title"></div>
                <div class="preview-meta"></div>
                <div class="preview-desc"></div>
              </div>
            </div>
            <div class="preview-article">
              <div class="preview-img"></div>
              <div class="preview-body">
                <div class="preview-title"></div>
                <div class="preview-meta"></div>
                <div class="preview-desc"></div>
              </div>
            </div>
            <div class="preview-article">
              <div class="preview-img"></div>
              <div class="preview-body">
                <div class="preview-title"></div>
                <div class="preview-meta"></div>
                <div class="preview-desc"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="settings-grid">
        <div class="section-card">
          <div class="section-header">
            <div class="section-icon blue">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 3H3v18h18V3z"/><path d="M9 3v18"/><path d="M3 9h18"/></svg>
            </div>
            <div><div class="section-title">Spacing</div></div>
          </div>

          <div class="setting-group">
            <label>Article Gap</label>
            <div class="slider-row">
              <input type="range" id="article-gap-range" min="0" max="32" step="1" value="8" class="form-range">
              <span class="slider-val" id="article-gap-val">8px</span>
            </div>
          </div>

          <div class="setting-group">
            <label>Article Padding</label>
            <div class="slider-row">
              <input type="range" id="article-padding-range" min="0" max="32" step="1" value="12" class="form-range">
              <span class="slider-val" id="article-padding-val">12px</span>
            </div>
          </div>

          <div class="setting-group">
            <label>Border Radius</label>
            <div class="slider-row">
              <input type="range" id="border-radius-range" min="0" max="24" step="1" value="12" class="form-range">
              <span class="slider-val" id="border-radius-val">12px</span>
            </div>
          </div>
        </div>

        <div class="section-card">
          <div class="section-header">
            <div class="section-icon pink">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="m21 15-5-5L5 21"/></svg>
            </div>
            <div><div class="section-title">Images</div></div>
          </div>

          <div class="setting-group">
            <label>Image Size</label>
            <div class="btn-group" id="image-size-btns">
              <button class="opt-btn" data-value="none">None</button>
              <button class="opt-btn" data-value="small">Small</button>
              <button class="opt-btn" data-value="medium">Medium</button>
              <button class="opt-btn" data-value="large">Large</button>
            </div>
          </div>

          <div class="setting-group">
            <label>Description Lines</label>
            <div class="btn-group" id="desc-lines-btns">
              <button class="opt-btn" data-value="1">1</button>
              <button class="opt-btn" data-value="2">2</button>
              <button class="opt-btn" data-value="3">3</button>
              <button class="opt-btn" data-value="5">5</button>
            </div>
          </div>

          <div class="setting-group">
            <label>Content Max Width</label>
            <div class="btn-group" id="max-width-btns">
              <button class="opt-btn" data-value="800">Narrow</button>
              <button class="opt-btn" data-value="1000">Medium</button>
              <button class="opt-btn" data-value="1200">Wide</button>
              <button class="opt-btn" data-value="1600">Full</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ============ Tab: Reading ============ -->
    <section class="tab-panel" id="tab-reading">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon green">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
          </div>
          <div>
            <div class="section-title">Reading Behavior</div>
            <div class="section-desc">Pagination, click actions, scroll</div>
          </div>
        </div>

        <div class="setting-group">
          <label>Articles Per Page</label>
          <div class="btn-group" id="articles-per-page-btns">
            <button class="opt-btn" data-value="20">20</button>
            <button class="opt-btn" data-value="30">30</button>
            <button class="opt-btn" data-value="50">50</button>
            <button class="opt-btn" data-value="100">100</button>
          </div>
        </div>

        <div class="setting-group">
          <label>Article Click Action</label>
          <div class="btn-group" id="click-action-btns">
            <button class="opt-btn" data-value="detail">Detail Panel</button>
            <button class="opt-btn" data-value="newtab">New Tab</button>
          </div>
        </div>

        <div class="setting-group toggle-group">
          <label>Infinite Scroll</label>
          <button class="toggle-switch" id="toggle-infiniteScroll" role="switch" aria-checked="true">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon slate">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          </div>
          <div>
            <div class="section-title">Read Mark</div>
            <div class="section-desc">When to mark articles as read</div>
          </div>
        </div>

        <div class="setting-group">
          <div class="btn-group" id="read-mark-btns">
            <button class="opt-btn" data-value="0">Instant</button>
            <button class="opt-btn" data-value="1000">1s</button>
            <button class="opt-btn" data-value="1500">1.5s</button>
            <button class="opt-btn" data-value="2000">2s</button>
            <button class="opt-btn" data-value="3000">3s</button>
            <button class="opt-btn" data-value="-1">OFF</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ============ Tab: AI & Voice ============ -->
    <section class="tab-panel" id="tab-ai">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon purple">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          </div>
          <div>
            <div class="section-title">AI Prompts</div>
            <div class="section-desc">Customize AI question & answer behavior</div>
          </div>
        </div>

        <div class="setting-group">
          <label>Question Generation Prompt</label>
          <textarea id="ai-question-prompt" class="form-textarea" rows="3" placeholder="Ë≥™ÂïèÁîüÊàêÊôÇ„ÅÆËøΩÂä†ÊåáÁ§∫...&#10;‰æã: ÁµåÊ∏àÁöÑ„Å™ÂΩ±Èüø„Å´ÁÑ¶ÁÇπ„ÇíÂΩì„Å¶„Å¶Ë≥™Âïè„ÇíÁîüÊàê„Åó„Å¶„Åè„Å†„Åï„ÅÑ"></textarea>
          <small class="form-hint">Ë®ò‰∫ã„ÅÆË≥™ÂïèÁîüÊàêÊôÇ„Å´AI„Å∏„ÅÆËøΩÂä†ÊåáÁ§∫„Å®„Åó„Å¶‰Ωø„Çè„Çå„Åæ„Åô</small>
        </div>

        <div class="setting-group">
          <label>Answer Generation Prompt</label>
          <textarea id="ai-answer-prompt" class="form-textarea" rows="3" placeholder="AIÂõûÁ≠îÁîüÊàêÊôÇ„ÅÆËøΩÂä†ÊåáÁ§∫...&#10;‰æã: ÂàùÂøÉËÄÖÂêë„Åë„Å´„Çè„Åã„Çä„ÇÑ„Åô„ÅèË™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ"></textarea>
          <small class="form-hint">Ë®ò‰∫ã„Å∏„ÅÆÂõûÁ≠îÁîüÊàêÊôÇ„Å´AI„Å∏„ÅÆËøΩÂä†ÊåáÁ§∫„Å®„Åó„Å¶‰Ωø„Çè„Çå„Åæ„Åô</small>
        </div>

        <div class="ai-actions">
          <button class="btn-primary" id="ai-save-btn">Save Prompts</button>
          <button class="btn-secondary" id="ai-clear-btn">Clear</button>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon blue">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
          </div>
          <div>
            <div class="section-title">AI Murmur Mode</div>
            <div class="section-desc">Ë®ò‰∫ã„Çπ„ÇØ„É≠„Éº„É´ÊôÇ„Å´AI„ÅåÁã¨„ÇäË®Ä„Çí„Å§„Å∂„ÇÑ„Åç„Åæ„Åô</div>
          </div>
        </div>
        <div class="setting-group toggle-group">
          <label>AI Murmur</label>
          <button class="toggle-switch" id="toggle-murmur" role="switch" aria-checked="false">
            <span class="toggle-track"><span class="toggle-thumb"></span></span>
          </button>
        </div>
        <small class="form-hint">Ë®ò‰∫ã„ÅåÁîªÈù¢„Å´Ë°®Á§∫„Åï„Çå„Çã„Å®„ÄÅAI„Åå80-120ÊñáÂ≠ó„ÅÆÁã¨„ÇäË®Ä„ÇíÁîüÊàê„ÉªÈü≥Â£∞ÂÜçÁîü„Åó„Åæ„ÅôÔºà1Êó•50Âõû„Åæ„ÅßÔºâ</small>
      </div>

      <div class="settings-grid">
        <div class="section-card">
          <div class="section-header">
            <div class="section-icon orange">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v4a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
            </div>
            <div><div class="section-title">TTS Voice</div></div>
          </div>
          <div class="setting-group">
            <div class="btn-group" id="tts-voice-btns">
              <button class="opt-btn active" data-value="off">OFF</button>
            </div>
            <small class="form-hint" id="tts-voice-hint">Loading voices...</small>
          </div>
        </div>

        <div class="section-card">
          <div class="section-header">
            <div class="section-icon cyan">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
            </div>
            <div><div class="section-title">Typewriter Effect</div></div>
          </div>
          <div class="setting-group">
            <div class="btn-group" id="typewriter-btns">
              <button class="opt-btn" data-value="10">Fast</button>
              <button class="opt-btn" data-value="20">Normal</button>
              <button class="opt-btn" data-value="40">Slow</button>
              <button class="opt-btn" data-value="0">OFF</button>
            </div>
          </div>
        </div>
      </div>

      <div class="section-card clone-section">
        <div class="section-header">
          <div class="section-icon pink">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 10v3a7 7 0 0 0 14 0v-3"/><rect x="6" y="2" width="6" height="12" rx="3"/><path d="M9 22v-3"/><path d="M5 19h8"/><path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8"/></svg>
          </div>
          <div>
            <div class="section-title">Voice Clone</div>
            <div class="section-desc">„ÅÇ„Å™„Åü„ÅÆÂ£∞„ÅßË®ò‰∫ã„ÇíË™≠„Åø‰∏ä„Åí</div>
          </div>
        </div>

        <div id="clone-list"></div>

        <button class="btn-primary" id="clone-new-btn" style="margin-top:0.5rem">Ôºã Êñ∞„Åó„ÅÑ„Éú„Ç§„Çπ„Çí‰ΩúÊàê</button>

        <div id="clone-form" class="clone-form" hidden>
          <div class="setting-group">
            <label>„Éú„Ç§„ÇπÂêç</label>
            <input id="clone-name" type="text" class="form-input" placeholder="‰æã: Ëá™ÂàÜ„ÅÆÂ£∞" maxlength="20">
          </div>
          <div class="setting-group">
            <label>„É™„Éï„Ç°„É¨„É≥„ÇπÈü≥Â£∞ (5„Äú30Áßí)</label>
            <div class="clone-audio-area">
              <button id="clone-rec-btn" class="clone-rec-btn" type="button">üéô Èå≤Èü≥</button>
              <label class="clone-upload-btn">
                üìÅ „Éï„Ç°„Ç§„É´ÈÅ∏Êäû
                <input id="clone-file" type="file" accept="audio/*" hidden>
              </label>
            </div>
            <div id="clone-rec-status" class="clone-rec-status" hidden>
              <span class="rec-dot"></span>
              <span id="clone-rec-time">0:00</span>
              <button id="clone-rec-stop" class="btn-secondary" type="button" style="padding:0.3rem 0.8rem;min-height:30px">ÂÅúÊ≠¢</button>
            </div>
            <audio id="clone-audio-preview" controls hidden></audio>
          </div>
          <div class="setting-group">
            <label>„É™„Éï„Ç°„É¨„É≥„Çπ„ÉÜ„Ç≠„Çπ„Éà</label>
            <textarea id="clone-ref-text" class="form-textarea" rows="2" placeholder="Èå≤Èü≥„Åó„ÅüÈü≥Â£∞„ÅÆÂÜÖÂÆπ„Çí„ÉÜ„Ç≠„Çπ„Éà„ÅßÂÖ•Âäõ..."></textarea>
            <small class="form-hint">Èü≥Â£∞„ÅÆÂÜÖÂÆπ„Å®‰∏ÄËá¥„Åô„Çã„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</small>
          </div>
          <div class="clone-actions">
            <button id="clone-save-btn" class="btn-primary" type="button" disabled>‰øùÂ≠ò</button>
            <button id="clone-cancel-btn" class="btn-secondary" type="button">„Ç≠„É£„É≥„Çª„É´</button>
          </div>
          <small class="form-hint" style="margin-top:0.5rem"><span id="clone-count">0</span>/3 „Éú„Ç§„Çπ‰ΩúÊàêÊ∏à„Åø</small>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon green">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <div>
            <div class="section-title">EcoSystem Cache</div>
            <div class="section-desc">Balance between eco points and speed</div>
          </div>
        </div>
        <div class="setting-group">
          <div class="slider-row">
            <input type="range" id="cache-rate-range" min="0" max="99" step="1" value="20" class="form-range">
            <span class="slider-val" id="cache-rate-val">20%</span>
          </div>
          <small class="form-hint">Lower = more eco points per query, higher = faster cached responses</small>
        </div>
      </div>
    </section>

    <!-- ============ Tab: RSS Feeds ============ -->
    <section class="tab-panel" id="tab-feeds">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon orange">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1" fill="currentColor"/></svg>
          </div>
          <div>
            <div class="section-title">RSS Feed Management</div>
            <div class="section-desc">Add, remove, and toggle feeds</div>
          </div>
        </div>

        <div class="admin-auth" id="admin-auth">
          <div class="form-row">
            <input type="password" id="admin-secret" placeholder="Admin Secret" class="form-input" style="flex:1">
            <button class="btn-secondary" id="admin-save-btn">Save</button>
          </div>
        </div>

        <div class="feeds-list" id="feeds-list">
          <div class="loading-text">Loading feeds...</div>
        </div>

        <div class="feed-add-form">
          <h3>Add New Feed</h3>
          <div class="form-row">
            <input type="url" id="feed-url" placeholder="Feed URL" class="form-input">
            <input type="text" id="feed-source" placeholder="Source Name" class="form-input">
            <select id="feed-category" class="form-select">
              <option value="general">General</option>
              <option value="tech">Technology</option>
              <option value="business">Business</option>
              <option value="entertainment">Entertainment</option>
              <option value="sports">Sports</option>
              <option value="science">Science</option>
              <option value="podcast">Podcast</option>
            </select>
            <button class="btn-add" id="feed-add-btn">Add</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ============ Tab: Local Data ============ -->
    <section class="tab-panel" id="tab-local">

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon red">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
          </div>
          <div>
            <div class="section-title">Local Data Management</div>
            <div class="section-desc">Clear stored data or reset settings</div>
          </div>
        </div>

        <div class="data-cards">
          <div class="data-card">
            <div class="data-info">
              <strong>Read History</strong>
              <span id="history-count">0 articles</span>
            </div>
            <button class="btn-danger" id="clear-history">Clear</button>
          </div>
          <div class="data-card">
            <div class="data-info">
              <strong>Bookmarks</strong>
              <span id="bookmark-count">0 items</span>
            </div>
            <button class="btn-danger" id="clear-bookmarks">Clear</button>
          </div>
          <div class="data-card">
            <div class="data-info">
              <strong>AI Cache</strong>
              <span id="cache-count">0 entries</span>
            </div>
            <button class="btn-danger" id="clear-cache">Clear</button>
          </div>
          <div class="data-card">
            <div class="data-info">
              <strong>All Settings</strong>
              <span>Reset to defaults</span>
            </div>
            <button class="btn-danger" id="clear-all">Reset All</button>
          </div>
        </div>
        <div class="data-summary">
          Total localStorage: <strong id="storage-size">0 KB</strong>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <div class="section-icon slate">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          </div>
          <div>
            <div class="section-title">Import / Export</div>
            <div class="section-desc">Backup or restore your settings</div>
          </div>
        </div>
        <div class="io-actions">
          <button class="btn-io" id="export-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Export Settings
          </button>
          <button class="btn-io" id="import-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
            Import Settings
          </button>
          <input type="file" id="import-file" accept=".json" style="display:none">
        </div>
      </div>
    </section>

  </main>

  <script src="js/storage.js?v=20"></script>
  <script src="js/settings.js?v=20"></script>
</body>
</html>
